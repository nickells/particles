{"version":3,"sources":["Knob.js","draw-force.js","Particle.js","UI.js","Field.js","index.js"],"names":["HAS_TOUCH","window","applyStyles","elem","styles","Object","entries","key","val","style","notchStyles","position","width","height","display","backgroundColor","transition","toDegrees","radian","Math","PI","toRadians","degree","getClientCoords","evt","x","touches","clientX","y","clientY","within","min","max","nearestFromSet","num","set","lastItem","index","item","undefined","abs","length","createNotches","spinner","degrees","radius","notch_offset","forEach","notchPosition","cos","sin","notchElem","document","createElement","classList","add","left","top","transform","appendChild","setTimeout","roundTo","to","round","degreeToValue","deg","DEGREES_DEAD_AREA","offset","newDeg","valueToDegree","Knob","selector","notchesCount","notches","deadArea","inner","firstChild","_onChange","degreeInterval","degreesSet","degreesStart","notch","push","reverse","sort","a","b","lastDeg","active","onRelease","e","remove","body","rotate","onMove","preventDefault","center","offsetLeft","offsetWidth","offsetTop","offsetHeight","diffX","diffY","arctan","atan2","roundDeg","onGrab","addEventListener","passive","bubbles","setValue","onChange","func","DrawForceController","canvasContext","getCanvasCoords","startPoint","endPoint","state","down","canvasX","canvasY","target","canvas","onMouseDown","onMouseUp","onMouseMove","strokeStyle","beginPath","moveTo","lineTo","stroke","Particle","startPosition","_onDelete","force","acceleration","velocity","mass","seeds","random","config","lifespan","autonomy","size","life","context","gravity","wind","seed","lifeRadians","horizontalMult","sinMult","timestamp","lastTime","i","dimension","getWobble","Infinity","opacity","fillStyle","arc","fill","destroy","INITIAL_VALUES","intensity","init","fieldInstance","getElementById","_val","setConfig","Field","keyVal","particleConfig","particles","particle","innerWidth","innerHeight","getBoundingClientRect","getContext","Set","emitting","clearRect","update","divisor","setGravity","setWind","setContext","onDelete","delete","startParticles","yPosition","addParticle","interval","timeout","clearTimeout","field","drawController","updateForces","start","debounce","timer","args","onResize","loop","requestAnimationFrame"],"mappings":";;AKQA;;AACA;;AACA;ADVA,ADAA,AFAA;AIAA;ADCA,ACAA;AACA;AFAO,AECP,IFDaoK,cAAc,GAAG;AAC5BtB,AECF,EFDEA,QAAQ,EAAE,IADkB;AAE5BC,AECF,EFDEA,QAAQ,EAAE,CAFkB;AAG5BC,AECF,EFDEA,IAAI,EAAE,CAHsB;AAI5BqB,AEOF,EFPEA,EEOI+B,KAAK,EFPA,CEOG,CFPD,GAJiB,AEWZzB,YAAJ,EAAd;AFNExB,AEOF,EFPEA,EEOIkD,KFPG,EAAE,GALmB,IEYV,GAAG,IAAIpF,8BAAJ,CAAwBmF,KAAK,CAAClD,OAA9B,CAAvB;AFNEE,AEQFiD,EFREjD,EFNWnC,EEMP,EAAE,MEQM,CAACF,QAAf,CAAwB,UAACtF,CAAD,EAAIG,CAAJ,EAAU;AFdJ,AFC5B,AIcAwK,CFfK,CEeLA,KAAK,CAACE,YAAN,CAAmB7K,CAAnB,EAAsBG,CAAtB,MJdYsF,aAAZ,EAA0B;AAAA,AIe3B,CAFD,GHhBakB;AACX,AGmBFgE,KAAK,CAACG,KAAN,eHjBI;AAAA,ACQG,AFRqB,IEQfjC,IAAI,GAAG,SAAPA,IAAO,CAACC,aAAD,EAAmB;AACrC,AEUF,IAAMiC,EFVE1D,MEUM,EFVE,CEUC,EFVE,IAAIxE,GEUjBkI,QAAW,CAACxF,CFVC,CAAS,EEUX,EAAU;AHnBvB,ACUAvC,AFVwB,AIoB1B,IDpBWkG,ADUTlG,EEUEgI,EHrBFpE,GCWO,AEUT,EFVW,EADe,MDTxB,QADAA,SDiBS,IChBT,MDgBUrB,IAAD,EAAU;AGfrB,ADUEjF,AFMA,AIIF,IFVEA,EFMA,CENG,EAAE,AEUA,EJJD,CERoB,AFQnB8C,OGhBM,EHgBX,AIIkB,GJJDmC,IAAjB;AGhBW,AFDX,ACYAhF,AFMD,AIGmB,IFTlBA,CFZwB,EEYrB,EAAE,IAHmB,yBEYf0K,IAAS;AFRlBnI,AEQSmI,IFRTnI,EEQSmI,IAAS,EFRV,EAAEtJ,QAAQ,CAACoH,cAAT,CAAwB,QAAxB;ACZC,AFDX,ACSwB,AFTA,AIqBN,GFZH,EAMhB1D,QANgB,CAMPsD,cAAc,CAACtB,QANR,CD+CN,CCxCV/B,EFIa,MEXG,CD+CLC,ACxCF,GFIKtB,CCoCJ,ADpCG,ECoCO,ADpCA,IEJXlF,GAAG,EAAI;AHnBnB,AE4DI,ACxCA,AFIAkF,MCoCA,ADpCAA,CAAC,CEJG+E,AFIF1E,GCoCE,CAACuC,ACxCG,GAAGnH,IAAI,CAAC4C,CDwChB,CDpCA,ECoCiBiD,CCxCN,CAAWxG,EDwCtB,CCxCW,CAAX;AChBW,AJHf,AE4DG,AGpCC2L,IAAAA,CHtBA,WGsBY,CAACM,KAAD,CAAZ,gBDAU,UAAC7B,MAAD,EAAY;AACtB,AJxBJ,AGmBIL,AFIA,AICAkC,IFLAlC,AEKAkC,EDAA,GCAK,EDAD,CAAC5B,ACAGjH,KFLK,CAAC8G,IEKI,CAAC,GDAnB,CDLA,CAAwB,MFIP,KAAI,CAACvD,eAAL,CAAqBzB,CAArB,CAAjB,GGEK,KAAI,CAACmF,cADV,GAEKD,MAFL;AJtBJ,AEAI,ACkBE9B,AFGF,AICmB,ILtBjB9I,EGkBA8I,GDlBGnI,CDqBGc,CAAR,EDrBW,AKsBcuF,CFJf,EAAEyD,CHlBE,AEAd,AGsB6B,GFJb,GEIS,EFJJ,IAAT,GAAgBX,AEIK4C,GLtBDzM,CCqBxBwB,AICiB,CJDzB,AICmB,CHtBE4G,ECkBT,CHlBD,CAAf,CGkB2CoC,QDlBvC;AE0BA,AFzBA,ACgBwB,AFIxB,AICmB,KFLnB,AEKkB,CDIlB,CCJwC,EHrBnClC,CDoBM3G,AICO,CDId,AHLJ,AICA,CDIKkJ,EFzBL,GAAa,IEyBb,CAAe/H,OAAf,CAAuB,MHLZnB,CAAX,GGKuBmJ,QAAQ;AAAA,AJxBnC,AEAMtJ,ACkBH,AEGA,GFfgB,AEYjB,CFZA,EDNIA,CAAC,EFAEvB,AEAA,CADQ,KEyBsB6K,KJxBvC,CAAqB5K,EIwB0B,CAACuK,CJxBhD,EAA2BtK,MIwBY,AJxBvC,CIwB0D,CJxBvB,IIwB2B,CAACyK,cAAxB,CAAJ;AAAA,AJvBjC,AEAIjJ,ACkBJ,AFCE,AIEH,CAND,KHfMA,ACkBEmH,AFCJ,CGIA,AFvBG,EAAE,EDmBD,CAAC3B,EEDO,GAAG,IAAI9C,CFCnB,GAAkB,SEDH,CAAS,EHlBHjE,MAAM,CAACC,OAAP,CAAeF,MAAf,CAAvB,qCAA+C;AIwB9C,AJxBI,AEFU,ACqBbqE,AFAmBhD,IEAnBgD,CCtBW,AFCX,GDqBmBhD,CAAC,EEAb,AFAYA,CAAD,CEAT,CADe;AHlBrB,AEEH,ACkBAM,AFDsBH,AII1B3B,IFHI8B,EEGE,CFHC,AEGA4E,CLvBKpG,ACmBcqB,CCjBjB4G,ACkBA,AFDkB,CEDC,CHlBrB,ACmBmB5G,UCjBtB,EGqBJ,CHrBwB,AGqBA,QAAxB,EAAkC4K,QAAQ,CAACJ,KAAK,CAACO,QAAP,CAA1C;AD1Be,AJGR,AEGDlL,ACkBFO,AFFkB,IEElBA,EDlBEP,CAAC,ACkBA,AFFH,CDnBajB,CEGR,ACkBA,CDnBe,ACgBI,CHlBrB,2BI0EM,YAAM;AACf,AFvEEoB,ACkBF2C,AFFA,AIKJ,IFHIA,AEGEqI,EDkDF,AFvEEhL,ADgBF,CChBG,CGqBG,CHrBD,EEuED,AHvDA,AIKK,CDkDJ+F,ADrDG,AFFHN,EEEKjE,ICqDV,CAAYxC,CHvDZ,AIKEgM,EFHgB,CAACpC,AFFH,CGuDhB,AClDS,CAACf,EDkDUxJ,MAAM,CAAC+K,AClDlB,EAAe,CFHd,CAAwB,MCqDlC,EDrDU;ACsDV,AJ3EA7K,AECoB,ACgBI,AFEPsB,AIMnB2K,EAAAA,CFRiB,CHjBfjM,CECA,ACsBD2G,CCoDC,CClDG,CLzBC,ACmBarF,AIMb8J,CLzBC9K,ACmBa,EGwDd,AHxDagB,CGwDZkG,AHxDW,CEFD,CHjBf,AGuBQyC,AEEV,CLzBa7J,AKyBAkJ,GDkDX,AJ3EA,CI2EY5I,GJ3EML,EKyBpB,CDkDE,AJ3EA,GI2EqBP,ADpDC,CAAC8I,KCoDI,CAACkC,ED1Db,EAOhBlE,OCmDsB,CD1DN,CAOP,CCmDkC3D,QAAQ,CAACoH,ADnD3ChK,GAAG,EAAI,SCmD2B,CAAwB,KAAxB,EAA+B0K,qBAA/B,GAAuDrK,MAAjG;AACD,AJ3EA,AEIC,ACoBA0J,AFNoB3I,AIOtByK,EAAAA,EFDE9B,CC7BW,GHuBS3I,CCdf6G,ADcgB,EAAD7G,KIOR,CHrBZ,ACoBa,AECA2J,CFDCb,EDpBE,GGqBlB,IFDE,CAAwB;AHvB3B,AEIKjJ,ACoBAsH,AFPc,AIQlB8D,EAAAA,IHrBIpL,ACoBAsH,CDpBC,ADaH,ECbK,CADW,ICqBN,EAAE5H,IAAI,CAAC4C,EECE,CAAC6I,EFDR,CAAWpM,CECJ,CAArB,CFDc;AC7BZ,AFUEoB,ACkBsB,AFLxB,AIQH,CAJD,IFCI,CDlBEA,ADaF,CCbG,EEVE+F,AFUA,EDaD,CAACL,GGvBL,EHuBA,CGvBclE,AHuBHmE,IAAX,GAAkB,CGvBI,CAAClE,EHuBvB,WGvBc,CAAuB,QAAvB,CAAd;AACA,AJMJ,AECoB,ACuBjB,AFPA,GEJgB,CHbb3C,AGaJ,CDZE,ADVwB,IGGnBiH,MAAL,AJMa,CIND/G,EJMI,GINhB,GAAoBX,MAAM,CAAC+K,UAA3B;AACA,AJMFrK,AEKE,ACmBF,AECF,ELzBEA,IGwBMqI,GC9BCrB,AFWAe,CFLC,AGwBE,EHxBA,CEKR,ACmBW,CECV0D,CD/BD,CAAYvL,AFWA,CCmBGyD,EDnBf,AGoBJ,GD/BI,AJKgB,GILKrE,KD8BV,CC9BgB,AD8BP,CC9BQgL,WAAP,GAAqB7H,QAAQ,CAACoH,cAAT,CAAwB,KAAxB,EAA+BU,qBAA/B,GAAuDrK,MAAjG;AACA,AJMFD,AEME,ACkBA6D,AFnCwB,AIqC5BmI,EL1BEhM,EGwBE6D,AEEA,GL1BG,EINEyE,AJMA,AEMAP,ECkBE,EAAE,CH1BO,AEQhB,ACiBoB,EC7BpB,CFYa,CAAExH,CEZA,GFYI,CAACyH,CEZAjB,KFYL,CEZA,CAAYwD,AFYd,EAAiBhK,IAAI,CAACyH,CDWzB,EGvBK,CAAuB,EFYR,EEZf,AFYF,CEZb,CFY6CzH,CDWlCuE,CAAD,ECXuC,ADWhC,CCXiCkD,MAAL,EAAhC,EAA+CzH,IAAI,CAACyH,MAAL,EAA/C,EAA8DzH,IAAI,CAACyH,MAAL,EAA9D,CAAb;AEXA,AJMF/H,AEOE,ACiBAkB,AFPA2D,EDjBF7E,EGwBEkB,EFPA2D,CEOG,AFPF,CDjBG,ACiBFK,CGvBG+E,AFaAjC,ACiBA,CHxBC,AGsBc,KHzBJ,AEUhB,GEbA,AFac,GEbG,CHuBjB,GGvBqBuC,GAAJ,EAAjB;AACAhI,AJMFtC,AEOIgI,ACiBF9G,AFPA,EDjBFlB,EINEsC,AD8BApB,EDjBE8G,CCiBC,EHxBE,AGwBA,CAHe,AFJhB,CDjBG,ACiBF,CGvBG,CAAClD,CFaC,EAAE,ADUH,CGvBT,AHuBU0B,CGvBI3D,CFYA,GDWT,CAAW4D,EDrBA,ECqBhB,EGvBA,AHuBsB,CGvBI,KAAKI,MAA/B;AAEA,AJKF5G,AEOIgI,ACiBFxE,AFPA,EDjBFxD,EGwBEwD,EDjBEwE,ADUF,GGtBKI,EHsBD,CEOI,AFPH7B,ECVK,ACiBAlE,EC7BV,AFYY,CFPC,AEKC,ADYd,CAAWmE,CGtBI6C,AJKA,GGwBG,AFPlB,CEOmBI,EH7BH,ACsBE,KAAlB,OEOU,CC7BoBrB,AD6BI,OC7BlC,CD6BU;AC5BV,AJKFnI,AEOIgI,ACYkB,EHnBtBhI,CGmBa,EAMZ8F,CDlBGkC,GEZGI,CFYC,EFPE,AEOA,CEZR,ADwBW,CAMHgB,EC9BIA,YD8BU,CAACpB,IANZ,ECxBgBI,AD+B5BrC,IC/BC,IDwBW,CAOH,UAAAvG,GAAG,EAAI;AC7Bf,AJHgB,AEUF,ACuBd+J,AFTA,CDxBJ,GGiCIA,CDvBA,CDcA,GGrBKM,EHqBD,CAAChG,KESQ,CAAC6F,GFTd,CACE,CGtBF,ID8BA,AFRM,CEQkB,AFRjBrD,QAAL,CAAc5F,CAAd,GAAkB,GGtBO2I,EHsBH,CAAChD,UAAL,CAAgB3F,CADpC,EAEE,CGvBF,IHuBM,CAAC4F,QAAL,CAAczF,CAAd,GAAkB,KAAI,CAACwF,UAAL,CAAgBxF,CAFpC;AGnBA,AFYA,ACiBEoH,AFNH,KArCyB,CE2CtBA,GC7BGqC,AFYApC,CCiBC,EAAE9H,CDjBR,GAAY,ACiBA,CC7BZ,AFYA,ACiBa4C,GC7BG,ED6BR,CAAWvD,EC7BnB,CD6BQ;AC5BT,AJGH,AGwB4B,IHxBtBS,CGwBF,QHxBW,GAAG,SAAZA,SAAY,CAAAC,MAAM;AAAA,AEUpB,ACiBD,AF7CyB,GEkCb,CAAb,KHhB0BA,AEUnBoH,MFVyB,GEU9B,CFVkC,EEUjB,IFVuBnH,IAAI,CAACC,EAAf,CAAV,AEUG,CAAE,CAAzB,MDWY,UAACsE,CAAD,EAAO;ADrBC,AEWrB,ACiBD,AFNEA,CDtBJ,KG4BQ2E,AFNJ3E,CAAC,CAACK,OEMW,GAAG,IAAIzB,AFNpB,aEMgB,CAAS;AACzBG,IAAAA,OAAO,EAAE,EADgB;AH1B7B,AG4BI1C,AFPA,IDrBEV,AG4BFU,GAAG,EAAE,CAFoB,CC7B3B,EJGa,GAAG,SAAZV,EIHGoI,OJGS,CAAAnI,ACqBG,CGxBnB,EAAiB,EHwBM,CDrBD,ACqBE6F,eAAL,CAAqBzB,CAArB,CAAjB;AGvBA,AJEoB,AG6BpB1D,AFRA,IEQAA,GAAG,EH7BqBV,AG6BnB,CFRGG,CGvBHyH,AHuBL,CEKyB,GH1BK,GIF9B,CAAaoC,AJEqBnK,IAAI,CAACC,EAAL,EIFlC,CAAuB,AJEqB,CIF5C,EAA0B,AJEI,CIF9B,AJEoB,EIFS,EHuBrBK,CAAR,EGvBkCkG,MAAL,CAAY/G,KAAzC,EAAgD,KAAK+G,MAAL,CAAY9G,MAA5D;AACA,AJCoB,AG8BpB0D,AFTA,CDrBJ,GG8BIA,MFTW3C,CGtBNkJ,AFYP,ADUE,CESQ,EAAE1H,MC/BV,CAAeL,CD+BG,CAACyH,KC/BnB,CAAuB,EFYdtB,MCmBC,AFTCtH,CCVb,ACmBoC,AFTlC,CGtBuBmJ,CFYN,MCmBP,CC/BqB;AAAA,AFa/B,ACcyB,GAAT,EAMjBjE,MDpBMoC,ECcW,CAMRkB,CCjC2BW,GFanC,GAAe7B,EEb4B,CAACqC,IFa5C,ACoBsB,CAAClB,CCjCY,CAAgBZ,OD2BnC,EC3BmB,ADkCpC1C,CClCgC,OD2Bf,CAOR,UAAAvG,GAAG,EAAI;AClCgB,AJG5B,AEWJ,ACqBC+J,AFZA,IEYAA,GCnCA,EJGYhJ,CCoBR,KAAI,CAAC+F,CEYI,CAACoD,GFZV,CAAWnD,EDpBZ,CAAyB/F,CCoB5B,CEYA,CHhCG,AGgCqB,AFZH,EDpBY;AIFlC,AJGD,AGgCI6I,AFZA,MEYAA,EFZA,CDpBGrK,ICoBC,CAACqH,CEYI,EAAElG,CHhCC,GAAG,AGgCA,CAAC4C,AFZhB,GAAgB,EEYL,CAAWvD,GAAX;AH/BbiB,AG8BwB,AFXLA,IDnBnBA,CAAC,AG8BD,EH9BGD,GAAG,ACmBaC,CDnBZC,ACmBa,EAADD,CAAD,IDnBf,CAAY,CAAZ,EAAeE,OADD;AAEjBC,AGgCD,AFduBA,GEGN,CHrBhBA,AGqBF,CHrBG,EAAEJ,GAAG,ACkBgBI,CDlBfF,AEUT,ADQyB,EAADE,KDlBnB,CAAY,CAAZ,EAAeC,SEUTsH,OAAX,EAAmB;AFZA,AEajB,ACsBH,AFfqB,CEnCf,EHeW,GAGZ,GCiBA,EGbJ,AFMOZ,KAAL,CAAW3G,CAAX,GAAeuH,OAAf,KENW1H,CAAb,EAAgBG,CAAhB,EAAkB;AAAA,AJHhBH,AEUD,ADOE,IDjBDA,CAAC,EAAED,GAAG,CAACG,OADL;AAEFC,ACiBD,IDjBCA,CAAC,AC5BuB,ED4BrBJ,GAAG,CAACK;AIGP,AJLE,GAHJ,OIQQ2J,OAAO,GAAG,IAAhB;AACA,AJFH,AC9B2B,WGgCnBrC,AFOP,OEPE,GAAe,CAACvH,CAAD,GAAK4J,EFOdpC,IAAR,CEPE,CFOW,WDQK,UAAC1D,CAAD,EAAO;AGdvB,AFOA,ADQA,WGfK0D,AFOAb,IEPL,CFOA,CAAW9G,CEPCA,AFOZ,CEPa,EFOE2H,CEPCoC,GFOhB,IEPA,AHeiC,2BAAgB9F,CAAhB,CAAjC;AGdA,AJFJ,AESG,ADOC,SDhBK5D,CCgBK0F,CGdLsD,IJFT,CAAgBtK,CCgBZ,EDhBJ,CIEI,CAAeuC,AJFEhB,GAArB,EAA0BC,EIEtB,CAAuB,AJF3B,EAA+B,MCgBpBP,CAAP,CGduBsJ,QAAQ,EAAI;AACjCA,AJFJ,ACeE,QGbEA,CJFGvK,CCeiBiH,EDfd,IIEE,AJFE1F,CIED0J,AHaX,EDfK,IAAcjL,GAAG,CIEpB,CAAoB,EJFIwB,GAA5B,CIE4B,CAACmH,EHaRvH,CAAnB,IGbE;AACAmJ,AJFL,QIEKA,QAAQ,CAACW,OAAT,CAAiB,MAAI,CAACtC,IAAtB;AACD,AHYD,OGfA,EAJgB,CAShB,AHUM3H,CCNR,ADMS,GAAG+F,OAAO,GAAG9B,CAAC,CAACgC,ICNdmB,EDMY,CAAS5C,GCN/B,EAAiB,KDMf;AGTA,AJJJ,AEQI,ADMA,SDdKhE,CCcCL,CCNDiH,ADME,GAAGpB,GCNV,GAAcoB,CDMG,EDdrB,CAAwB3G,ACcAwD,CAAC,CCNrB,ADMsBgC,CDd1B,EAA6BvF,GAA7B,ACcwB,CAASgE,CDdC,QCc9B;AGTA,AJJF,AEQC,ADMC,MDdE/D,OCcK,CDdT;AIKE,AHSQX,QAAAA,CAAC,EAADA,CAAD;AGRP,AJP8B,ACenBG,QAAAA,CAAC,EAADA,kCDbaO,GAAG,CAAC7B,OAAJ,EAFM;AIQ/B,AJR+B,ACevB,OAAP,ICJF,qBAAmB;AAAA,ADKlB,KApDyB,KC+ChB+I,IAAS,uEAAF,CAAE;AFXa,AEY9B;AFVF,AEWE,ADhDA,SAAKnC,CCgDChG,CEHR,KFGc,GAAGC,GDhDf,CCgDmB,CAACC,CDhDC8F,CCgDN,GAAU,GEHf6D,AFGV,MDhDA,EG6CF,EAAsB,cJRmB;AIQnB,AJRmB,AEYvC,ADhDA,SAAK7D,CCgDCoC,WAAW,CDhDjB,CAAmB3B,CCgDE,KAAKsB,ADhD1B,CAA0BtC,GCgDN,GAAczF,MAAd,GAAuB,CDhD3C,CAA2C,GCgDKyH,KAAL,CAAWU,EDhDtD,ECgD2C,ADhDa,CCgDxD,CAHiB,CAG2C,EDhDCzB,WAA7D;ADoCuC,ACnCvC,SAAKV,CDmCG7E,KAA+B,OCnCvC,CAAmBsF,MAAnB,CAA0BhB,gBAA1B,CAA2C,SAA3C,EAAsD,KAAKkB,SAA3D;AG4CAkD,AJTuC,AEavC,AD/CA,MG2CAA,GH3CK7D,CDkCU5E,AEaTiH,IEJE,AJT+B,CIS9BoC,OH3CT,CAAmBhE,CC+CC,CEJpB,CAAoB,CFIG,ED/CvB,CAA0BhB,CG2CDuC,EFII,KEJ7B,AFIkCP,KAAL,CAAWU,ED/CxC,CAA2C,CC+Cd,CAA7B,SD/CA,EAAwD,KAAKvB,WAA7D;AG4CAiD,AFIA,AD/CA,MG2CAA,GH3CK7D,CC+CCsC,IEJE,CAACiC,EFII,GAAG,ED/ChB,CAAmB9D,EG2CnB,AFIqB,CEJD,GH3CpB,CC+C0BgB,AD/CAhC,CG2CDwC,IFIJ,CAAWE,EEJhC,EFIqB,CAArB,KD/CA,CAA2C,YAA3C,EAAyD,KAAKzB,WAA9D;AG4CAmD,AJVA,AEcA,AD/CA,MG2CAA,GH3CK7D,CDiCDhF,GAAG,AEcCqH,CEJA,CAACmC,GJVGpJ,IIUZ,AJVA,ACjCA,CG2CiB,AH3CEqF,CDiCD,GEcI,CEJAyB,CH3CtB,CC+CyBjI,AD/CCwF,CDiCDrE,CIUzB,EFI6B,CFdX,AEcYY,CFd9B,EEcyB,CAASoG,EFb7B,IAAIlH,CClCT,CAA2C,GC+CE,GFb5B,AEa+BoH,ID/ChD,CDkCsBjH,CClCiC,CC+C9B,CAAzB,GD/C4DsF,GDkCnD,IAA0B3F,EClCnC,CDkCsC,GAAGI,IAApC,EAA0C;AIU/CyI,AJTE,AEaH,AD/CC,MG2CAA,GH3CK7D,KG2CG,CAACwD,AJTApI,IAAP,GClCF,CAAmBqF,CG2CnB,CAAmB,IH3CnB,CG2CwBkD,AH3CElE,cG2C1B,EH3CA,CAA2C,WAA3C,EAAwD,KAAKmB,WAA7D;AG4CA,AJTC,ACjCD,OD+BK,EC/BAR,EG0CAwD,EJTE,CCjCP,GDiCW5I,ACjCE,GG0Cb,AJTc,CISCqB,EJTEnB,CISjB,CAAmB2I,MJTR,EISX,EJT6B7I,GAAG,GAAGI,IAA5B,EAAkC;AIUzCyI,AJTE,ACjCAxD,MG0CFwD,AH1CExD,IAAI,EAAE,EG0CA,CAACqE,AJTAzK,IAAI,CAACqB,GISd,AJTS,CISS,AJTAN,GAAG,GAAGE,IISN2I,IJTT,IISiB,AJTU5J,EISN,EJTU,CAACqB,GAAL,CAASN,GAAG,GAAGI,IAAf,CAA3B,GAAkDA,IAAlD,GAAyDF,QAAhE;AIUA,AJTD,ACnCY,KAAb,EDiCO,CIWL,GFOJ,EFhBS,CISD,CAAC0I,EJTIzI,KAAK,EISd,CAAewJ,EJTI1J,GAAG,AEgBjB,CEPL,AJTuBM,CISDsI,KJTH,GISnB,AJTgC,CAA3B,EAA8B;AIUpC,AJTC,AEgBF,OETA,IFSKzC,IFhBIhG,IAAP,CEgBF,CAAe,IAAf;AEND,AJTE,ACjCD,SAAKuC,SAAL,GAAiB,YAAM,CAAE,CAAzB;ADmCAzC,AEcA,ADhDD,MDkCCA,OEcO,CFdC,GAAGE,AEcX,IFdA;AACD,AEcA;AF3B+B,WIqBhC,iBAAO;AAAA,AJrByB;AAAA,WE6BhC,ADXA,gBCWOmH,EDXE,OCWT,EAAiB;AEPf,AJtB8B,AE8B9B,ADXA,UGGMqC,AHHF,CCWC7C,IAAL,ADXS3B,ICWI,CAAb,ADXI,CAAWC,GGGK,CHHpB,EGGuB,AHHF,SGGfuE,cAAiB,GAAM;AAC3B,AJvB4B,AE+B9B,ADXE,WCWGpC,CERCqC,CHHC7E,MCWP,EERE,CFQcuC,IDXd,CAAmB1B,ICWrB,CAFe,CAIf,KDbE,GAAiC,KAAjC;AGIA,AJVL,ACOK,YGGI,CHHCb,KGGG,CAACiC,OAAL,AHHJ,CAAmBnB,IGGE,CAArB,EAAwB+D,EHHxB,OGGiC,GAAG,EAAE5K,IAAI,CAACyH,MAAL,KAAgB,MAAI,CAACjB,MAAL,CAAY9G,MAA9B,CAAZ,CAAxB,KACK,IAAI,MAAI,CAACsI,OAAL,GAAe,CAAnB,EAAsB4C,SAAS,GAAG,EAAE,MAAI,CAACpE,MAAL,CAAY9G,MAAZ,GAAqB,MAAI,CAACgK,cAAL,CAAoB7B,IAA3C,CAAZ,CAAtB,KACA,IAAI,MAAI,CAACG,OAAL,GAAe,CAAnB,EAAsB4C,SAAS,GAAG,CAAZ;AFQ7B,ADZE,WCYGvD,EDZEtB,UCYP,GAAoB,ADZlB,CAAmBe,MAAnB,CAA0B,KAAKb,UAAL,CAAgB3F,CAA1C,EAA6C,KAAK2F,UAAL,CAAgBxF,CAA7D;AGMA,AJXN,AEkBMH,ADZA,QGKA,AFOAA,CFlBGiB,AEkBF,EAAE,EDZEwE,CGKD,CAAC8E,CFOGzD,KAAL,CFlBT,AEkBoB9G,CFlBGkB,AEkBd,GEPH,AFOkB,ADZlB,CGKiB,AHLEuF,GDNzB,CIW2BE,AFOEM,CFlBG9F,CCM1B,CAA0B,CCWR,IFjBxB,ACMqCyE,EDNI,MCMT,CAAc5F,CGKvB,AHLjB,CGK8B,CHLa,KAAK4F,QAAL,CAAczF,CAAzD;AGMEyG,AJXN,AEkBIzG,ADZA,MDNEiB,EEkBFjB,CAAC,CEPCyG,CFOC,CFlBK,CCMHnB,EDNM,CEkBHqB,CFlBZ,IEkBO,CAAW3G,CEPC,AFOZ,EEPc,CFOC,ADZlB,CAAmBuG,ICYIO,EDZvB;AGMIjH,AJXR,AEesB,ADTnB,MDNGqB,CEeJ,KEJMrB,CAAC,EAAEN,GJXO,CIWH,CAACyH,CJXK,EAArB,GIWW,KAAgB,MAAI,CAACjB,MAAL,CAAY/G,KADlB;AAEbgB,AJVRgB,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","file":"particles.e31bb0bc.js","sourceRoot":"..","sourcesContent":["/*\n  https://raw.githubusercontent.com/nickells/knob/master/script.js\n*/\n\nconst HAS_TOUCH = 'ontouchstart' in window\n\nfunction applyStyles(elem, styles) {\n  for (let [key, val] of Object.entries(styles)) {\n    elem.style[key] = val\n  }\n}\n\nconst notchStyles = {\n  position: 'absolute',\n  width: '6px',\n  height: '1px',\n  display: 'inline-block',\n  backgroundColor: 'grey',\n  transition: `transform 500ms`\n}\n\nconst toDegrees = radian => radian * (180 / Math.PI)\n\nconst toRadians = degree => degree * (Math.PI / 180)\n\nexport function getClientCoords(evt) {\n  return HAS_TOUCH ? {\n    x: evt.touches[0].clientX,\n    y: evt.touches[0].clientY,\n  } : {\n    x: evt.clientX,\n    y: evt.clientY,\n  }\n}\n\nfunction within(val, min, max) {\n  return val >= min && val <= max\n}\n\nfunction nearestFromSet(num, set) {\n  let lastItem\n  for (let [index, item] of set.entries()) {\n    if (num === item) return item\n    else if (lastItem === undefined && num < item) {\n      return item\n    } else if (num > lastItem && num < item) {\n      return Math.abs(num - lastItem) > Math.abs(num - item) ? item : lastItem\n    } else if (index === set.length - 1) {\n      return item\n    }\n\n    lastItem = item\n  }\n}\n\n\nfunction createNotches(spinner, degrees) {\n  const radius = 25\n  const notch_offset = 15\n\n  degrees.forEach((degree, index) => {\n    degree -= 180\n    let notchPosition = {\n      x: (radius + notch_offset) * Math.cos(toRadians(degree)) + radius - 3,\n      y: (radius + notch_offset) * Math.sin(toRadians(degree)) + radius - 0\n    }\n    const notchElem = document.createElement('div')\n    notchElem.classList.add('notchElem')\n    applyStyles(notchElem, {\n      ...notchStyles,\n      left: `${notchPosition.x}px`,\n      top: `${notchPosition.y}px`,\n      transform: `rotate(${degree}deg) scale(0)`\n    })\n    spinner.appendChild(notchElem)\n    setTimeout(() => {\n      applyStyles(notchElem, {\n        transform: `rotate(${degree}deg) scale(1)`\n      })\n    }, index * 50)\n  })\n}\n\nfunction roundTo(num, to) {\n  return Math.round(num / to) * to\n}\n\nfunction degreeToValue(deg, DEGREES_DEAD_AREA, min, max) {\n  // calc offset\n  const offset = DEGREES_DEAD_AREA / 2\n  let newDeg = 360 - deg\n  if (newDeg < 90) newDeg += 360\n  newDeg = newDeg - 90 - offset\n  newDeg = newDeg / (360 - DEGREES_DEAD_AREA)\n  newDeg = min + (newDeg * (max - min))\n  return newDeg\n}\n\nfunction valueToDegree(val, DEGREES_DEAD_AREA, min, max) {\n  // calc offset\n  const offset = DEGREES_DEAD_AREA / 2\n  \n  // get degrees out of 360 (minus offset)\n  let deg = (val - min) / (max - min) * (360 - DEGREES_DEAD_AREA)\n  \n  // flip directions (and orientation)\n  deg = 270 - deg \n\n  // account for dead-area offset\n  deg -= offset\n\n  return deg\n}\n\nfunction Knob({ selector: elem, notches: notchesCount, min = 0, max = 100, deadArea: DEGREES_DEAD_AREA = 90 }) {\n  \n  let spinner = elem\n  let inner = elem.firstChild\n  let _onChange = () => {}\n\n  // if there is a dead zone, add 1 to notchescount to spread evenly. otherwise it will overlap at the 360 mark\n  const degreeInterval =\n    (360 - DEGREES_DEAD_AREA) /\n      (DEGREES_DEAD_AREA ? notchesCount - 1 : notchesCount) || 1\n\n  // create degrees to map to, and notches\n  const degreesSet = []\n  const degreesStart = 270 - DEGREES_DEAD_AREA / 2 // assume 360 degrees, and 0 is at 3:00 position (CCW), then move it to this new starting point\n  \n  for (let notch = 0; notch < notchesCount; notch++) {\n    let val = degreesStart - notch * degreeInterval\n    val = (val + 360) % 360\n    degreesSet.push(val)\n  }\n\n  // reverse the degree set so animation works\n  createNotches(spinner, degreesSet.reverse())\n\n  // sort the degree set so we can properly get the closest match algorithmically\n  degreesSet.sort((a, b) => a - b)\n\n  let lastDeg = 0,\n    active = false\n\n  function onRelease(e) {\n    if (active) {\n      spinner.classList.remove('is-active')\n      document.body.classList.remove('is-grabbing')\n      active = false\n    }\n  }\n\n  function rotate(deg) {\n    lastDeg = deg\n    // change degree to match CSS's interpretation of geometry\n    // and because the notch is vertical upon start\n    inner.style.transform = `rotate(${90 - deg}deg)`\n  }\n\n  function onMove(e) {\n    e.preventDefault()\n    if (active) {\n      const {x, y} = getClientCoords(e)\n      const center = {\n        x: spinner.offsetLeft + spinner.offsetWidth / 2,\n        y: spinner.offsetTop + spinner.offsetHeight / 2\n      }\n      let diffX = x - center.x\n      let diffY = center.y - y // because Y is upside down from regular math\n      let arctan = Math.atan2(diffY, diffX)\n      let deg = (toDegrees(arctan) + 360) % 360\n      let roundDeg = nearestFromSet(deg, degreesSet)\n      if (Math.abs(roundDeg) === Math.abs(lastDeg)) return\n      else {\n        rotate(roundDeg)\n        _onChange(degreeToValue(roundDeg, DEGREES_DEAD_AREA, min, max))\n      }\n    }\n  }\n\n  function onGrab(e) {\n    if (!active) {\n      active = true\n      spinner.classList.add('is-active')\n      document.body.classList.add('is-grabbing')\n      onMove(e)\n    }\n  }\n\n  spinner.addEventListener('mousedown', onGrab, {\n    passive: false,\n    bubbles: false\n  })\n  spinner.addEventListener('mousedown', onGrab, {\n    passive: false,\n    bubbles: false\n  })\n  spinner.addEventListener('touchstart', onGrab, {\n    passive: false,\n    bubbles: false\n  })\n  window.addEventListener('mouseup', onRelease, {\n    passive: false,\n    bubbles: false\n  })\n  window.addEventListener('touchend', onRelease, {\n    passive: false,\n    bubbles: false\n  })\n  window.addEventListener('mousemove', onMove, {\n    passive: false,\n    bubbles: false\n  })\n  window.addEventListener('touchmove', onMove, {\n    passive: false,\n    bubbles: false\n  })\n\n  return {\n    setValue(val) {\n      rotate(valueToDegree(val, DEGREES_DEAD_AREA, min, max))\n      return this\n    },\n    onChange(func) {\n      _onChange = func\n      return this\n    }\n  }\n}\n\nexport default Knob","import { getClientCoords } from \"./Knob\"\n\nexport class DrawForceController {\n  constructor(canvasContext){\n    this.canvasContext = canvasContext\n    this.canvasContext.canvas.addEventListener('mousedown', this.onMouseDown)\n    this.canvasContext.canvas.addEventListener('mouseup', this.onMouseUp)\n    this.canvasContext.canvas.addEventListener('mousemove', this.onMouseMove)\n    this.canvasContext.canvas.addEventListener('touchstart', this.onMouseDown)\n    this.canvasContext.canvas.addEventListener('touchend', this.onMouseUp)\n    this.canvasContext.canvas.addEventListener('touchmove', this.onMouseMove)\n\n    this.state = {\n      down: false\n    }\n\n    this._onChange = () => {}\n  }\n\n  onChange = (func) => {\n    this._onChange = func\n  }\n\n  onMouseDown = (e) => {\n    e.preventDefault();\n    const { x, y } = this.getCanvasCoords(e)\n    this.startPoint = {x, y}\n    this.endPoint = {x, y}\n    this.state.down = true\n  }\n  \n  onMouseUp = (e) => {\n    e.preventDefault();\n    if (!this.state.down) return\n    this.state.down = false\n\n    this._onChange(\n      this.endPoint.x - this.startPoint.x,\n      this.endPoint.y - this.startPoint.y,\n    )\n  }\n\n  onMouseMove = (e) => {\n    e.preventDefault();\n    const { x, y } = this.getCanvasCoords(e)\n    if (this.state.down) {\n      this.endPoint = {x, y}\n    }\n  }\n\n  getCanvasCoords = (e) => {\n    const {x: canvasX, y: canvasY} = getClientCoords(e);\n    const x = canvasX - e.target.offsetLeft\n    const y = canvasY - e.target.offsetTop\n    return {x, y}\n  }\n\n  update() {\n    if (this.state.down) {\n      this.canvasContext.strokeStyle = 'red'\n      this.canvasContext.beginPath()\n      this.canvasContext.moveTo(this.startPoint.x, this.startPoint.y)\n      this.canvasContext.lineTo(this.endPoint.x, this.endPoint.y)\n      this.canvasContext.stroke();\n    }\n  }\n}","export class Particle {\n  constructor({\n    startPosition\n  }){\n    this.position = { ...startPosition}\n    this.force = {\n      x: 0,\n      y: 0,\n    }\n    this.acceleration = {\n      x: 0,\n      y: 0,\n    }\n    this.velocity = {\n      x: 0,\n      y: 0,\n    }\n\n    this.mass = 0.1\n\n    this.seeds = [ Math.random(), Math.random(), Math.random(), Math.random(), Math.random() ]\n\n    this.config = {\n      lifespan: 500,\n      autonomy: 1,\n      size: 5,\n    }\n\n\n    this.life = 0\n\n    this._onDelete = () => {}\n  }\n\n  setContext(context){\n    this.context = context\n  }\n\n  setGravity(gravity){\n    this.force.y = gravity\n  }\n\n  setWind(wind){\n    this.force.x = wind\n  }\n\n  setConfig(config){\n    this.config = config\n  }\n\n  getWobble(seed = 0){\n    // wobbles\n    const radian = Math.PI / 180\n    const lifeRadians = (this.life) * radian * this.seeds[seed] // add random so it appears at a random place in the sine curve\n    const horizontalMult = 0.5 * this.seeds[seed]\n    const sinMult = 10 * this.seeds[seed]\n    return (horizontalMult * Math.sin(lifeRadians * sinMult))\n  }\n\n  onDelete = (func) => {\n    this._onDelete = func\n  }\n\n  destroy(){\n    this._onDelete(this)\n    delete this\n  }\n\n  update(timestamp){\n    this.life += 1\n    this.lastTime = timestamp\n    \n    // todo: only update this if changed from last tick\n    this.acceleration = {\n      x: this.force.x * this.mass,\n      y: this.force.y * this.mass,\n    }\n\n    for (let i  = 0; i < this.config.autonomy; i++) {\n      let dimension = i % 2 === 0 ? 'x' : 'y'\n      this.position[dimension] += (this.getWobble(i) * (this.config.autonomy + 1))\n    }\n    // this.acceleration.x += this.getWob\n    // gravity-based\n    \n    this.velocity = {\n      x: this.life * this.acceleration.x,\n      y: this.life * this.acceleration.y\n    }\n    \n\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n\n\n    // draw\n    // this.context.fillStyle = 'black'\n    if (this.config.lifespan < Infinity) {\n      const opacity = Math.max((this.config.lifespan - this.life) / this.config.lifespan, 0)\n      this.context.fillStyle = `rgba(0, 0, 0, ${opacity})`\n    }\n    else {\n      this.context.fillStyle = `rgba(0, 0, 0, 1)`\n    }\n    const width = this.config.size * this.seeds[0]\n\n    this.context.beginPath();\n    this.context.arc(this.position.x, -this.position.y, width, 0, 2 * Math.PI, false);\n    this.context.fill();\n    const canvas = this.context.canvas\n    \n    // reset when OOB\n    if (this.life >= this.config.lifespan) {\n      this.destroy()\n    }\n    if (this.force.y < 0) {\n      if (this.position.y <= -canvas.height) {\n        this.destroy()\n      }\n    }\n    else if (this.force.y > 0) {\n      if (this.position.y >= 0) {\n        this.destroy()\n      }\n    }\n    if (this.force.x >= 0) {\n      if (this.position.x >= canvas.width) {\n        this.position.x = 0\n      }\n    }\n    if (this.force.x < 0) {\n      if (this.position.x <= 0) {\n        this.position.x = canvas.width\n      }\n    }\n  }\n}","import Knob from \"./Knob\"\n\nexport const INITIAL_VALUES = {\n  lifespan: 1620,\n  autonomy: 1,\n  size: 3,\n  intensity: 100,\n  gravity: 0.1,\n  wind: 0.1,\n}\n\nexport const init = (fieldInstance) => {\n  const lifespan = new Knob({\n    notches: 16,\n    min: 100,\n    max: 2000,\n    selector: document.getElementById('knob-1')\n  })\n  .setValue(INITIAL_VALUES.lifespan)\n  .onChange(val => {\n    let _val = Math.round(val)\n    fieldInstance.setConfig({\n      lifespan: _val === 2000 ? Infinity : _val\n    })\n  })\n  const autonomy = new Knob({\n    notches: 6,\n    min: 0,\n    max: 5,\n    selector: document.getElementById('knob-2')\n  })\n  .setValue(INITIAL_VALUES.autonomy)\n  .onChange(val => {\n    fieldInstance.setConfig({\n      autonomy: Math.round(val)\n    })\n  })\n  const size = new Knob({\n    notches: 8,\n    min: 2,\n    max: 9,\n    selector: document.getElementById('knob-3')\n  })\n  .setValue(INITIAL_VALUES.size)\n  .onChange(val => {\n    fieldInstance.setConfig({\n      size: Math.round(val)\n    })\n  })\n  const intensity = new Knob({\n    notches: 16,\n    min: 0,\n    max: 100,\n    selector: document.getElementById('knob-4')\n  })\n  .setValue(INITIAL_VALUES.intensity)\n  .onChange(val => {\n    fieldInstance.setConfig({\n      intensity: Math.round(val)\n    })\n  })\n}","import { Particle } from \"./Particle\"\nimport { INITIAL_VALUES } from \"./UI\"\n\nexport class Field {\n  constructor(){\n    this.canvas = document.createElement('canvas')\n    this.canvas.width = window.innerWidth\n    this.canvas.height = window.innerHeight - document.getElementById('hud').getBoundingClientRect().height\n    this.context = this.canvas.getContext('2d')\n    this.particles = new Set()\n    document.body.appendChild(this.canvas)\n\n    this.gravity = INITIAL_VALUES.gravity\n    this.wind = INITIAL_VALUES.wind\n    \n    this.particleConfig = { ...INITIAL_VALUES }\n\n    this.emitting = false\n  }\n\n  update(timestamp){\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)\n    this.particles.forEach(particle => particle.update(timestamp))\n  }\n\n  setConfig = (keyVal) => {\n    this.particleConfig = {\n      ...this.particleConfig,\n      ...keyVal,\n    }\n    this.particles.forEach(particle => particle.setConfig(this.particleConfig))\n  }\n\n  updateForces(x, y){\n    const divisor = 1000\n    this.gravity = -y / divisor\n    this.wind = x / divisor\n    this.particles.forEach(particle => {\n      particle.setGravity(this.gravity)\n      particle.setWind(this.wind)\n    })\n\n    // if (this.gravity === 0) {\n    //   this.stop()\n    // } else if (!this.emitting) {\n    //   this.start()\n    // }\n  }\n\n  addParticle(particle) {\n    particle.setContext(this.context)\n    particle.setGravity(this.gravity)\n    particle.setWind(this.wind)\n    particle.setConfig(this.particleConfig)\n    this.particles.add(particle)\n    particle.onDelete(particle => {\n      this.particles.delete(particle)\n    })\n  }\n\n  start(){\n    const startParticles = () => {\n      let yPosition;\n      if (this.gravity === 0) yPosition = -(Math.random() * this.canvas.height);\n      else if (this.gravity > 0) yPosition = -(this.canvas.height - this.particleConfig.size)\n      else if (this.gravity < 0) yPosition = 1\n\n      this.addParticle(new Particle({\n        startPosition: {\n          x: Math.random() * this.canvas.width,\n          y: yPosition\n        }\n      }))\n      const interval = 100 - this.particleConfig.intensity\n      this.timeout = setTimeout(startParticles, interval)\n    }\n\n    startParticles()\n    this.emitting = true\n  }\n\n  onResize = () => {\n    this.canvas.width = window.innerWidth\n    this.canvas.height = window.innerHeight - document.getElementById('hud').getBoundingClientRect().height\n  }\n\n  stop(){\n    this.emitting = false\n    clearTimeout(this.timeout)\n  }\n}","/*\n  get gravity/wind into one config called forces\n  color?\n  blur?\n  animated favicon?\n  // embed + colors\n*/\n\nimport { DrawForceController } from \"./draw-force\"\nimport { Field } from \"./Field\"\nimport { init } from \"./UI\"\n\n\nconst field = new Field()\nconst drawController = new DrawForceController(field.context)\n\ndrawController.onChange((x, y) => {\n  field.updateForces(x, y)\n})\n\nfield.start()\n\nconst debounce = (func) => {\n  let timer\n  return (...args) => {\n    clearTimeout(timer)\n    timer = setTimeout(() => func(...args), 300)\n  }\n}\n\nwindow.addEventListener('resize', debounce(field.onResize))\n\nconst loop = (timestamp) => {\n  field.update(timestamp)\n  drawController.update()\n  requestAnimationFrame(loop)\n}\n\ninit(field)\n\nloop()\n\n"]}