{"version":3,"sources":["Knob.js","draw-force.js","Particle.js","UI.js","Field.js","index.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["HAS_TOUCH","window","applyStyles","elem","styles","Object","entries","key","val","style","notchStyles","position","width","height","display","backgroundColor","transition","toDegrees","radian","Math","PI","toRadians","degree","getClientCoords","evt","x","touches","clientX","y","clientY","within","min","max","nearestFromSet","num","set","lastItem","index","item","undefined","abs","length","createNotches","spinner","degrees","radius","notch_offset","forEach","notchPosition","cos","sin","notchElem","document","createElement","classList","add","left","top","transform","appendChild","setTimeout","roundTo","to","round","degreeToValue","deg","DEGREES_DEAD_AREA","offset","newDeg","valueToDegree","Knob","selector","notchesCount","notches","deadArea","inner","firstChild","_onChange","degreeInterval","degreesSet","degreesStart","notch","push","reverse","sort","a","b","lastDeg","active","onRelease","e","remove","body","rotate","onMove","preventDefault","center","offsetLeft","offsetWidth","offsetTop","offsetHeight","diffX","diffY","arctan","atan2","roundDeg","onGrab","addEventListener","passive","bubbles","setValue","onChange","func","DrawForceController","canvasContext","getCanvasCoords","startPoint","endPoint","state","down","canvasX","canvasY","target","canvas","onMouseDown","onMouseUp","onMouseMove","strokeStyle","beginPath","moveTo","lineTo","stroke","Particle","startPosition","_onDelete","force","acceleration","velocity","mass","seeds","random","config","lifespan","autonomy","size","life","context","gravity","wind","seed","lifeRadians","horizontalMult","sinMult","timestamp","lastTime","i","dimension","getWobble","Infinity","opacity","fillStyle","arc","fill","destroy","INITIAL_VALUES","intensity","init","fieldInstance","getElementById","_val","setConfig","Field","keyVal","particleConfig","particles","particle","innerWidth","innerHeight","getBoundingClientRect","getContext","Set","emitting","clearRect","update","divisor","setGravity","setWind","stop","start","setContext","onDelete","delete","startParticles","addParticle","interval","timeout","clearTimeout","field","drawController","updateForces","debounce","timer","args","onResize","loop","requestAnimationFrame","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"particles.e31bb0bc.js","sourceRoot":"..","sourcesContent":["/*\n  https://raw.githubusercontent.com/nickells/knob/master/script.js\n*/\n\nconst HAS_TOUCH = 'ontouchstart' in window\n\nfunction applyStyles(elem, styles) {\n  for (let [key, val] of Object.entries(styles)) {\n    elem.style[key] = val\n  }\n}\n\nconst notchStyles = {\n  position: 'absolute',\n  width: '6px',\n  height: '1px',\n  display: 'inline-block',\n  backgroundColor: 'grey',\n  transition: `transform 500ms`\n}\n\nconst toDegrees = radian => radian * (180 / Math.PI)\n\nconst toRadians = degree => degree * (Math.PI / 180)\n\nexport function getClientCoords(evt) {\n  return HAS_TOUCH ? {\n    x: evt.touches[0].clientX,\n    y: evt.touches[0].clientY,\n  } : {\n    x: evt.clientX,\n    y: evt.clientY,\n  }\n}\n\nfunction within(val, min, max) {\n  return val >= min && val <= max\n}\n\nfunction nearestFromSet(num, set) {\n  let lastItem\n  for (let [index, item] of set.entries()) {\n    if (num === item) return item\n    else if (lastItem === undefined && num < item) {\n      return item\n    } else if (num > lastItem && num < item) {\n      return Math.abs(num - lastItem) > Math.abs(num - item) ? item : lastItem\n    } else if (index === set.length - 1) {\n      return item\n    }\n\n    lastItem = item\n  }\n}\n\n\nfunction createNotches(spinner, degrees) {\n  const radius = 25\n  const notch_offset = 15\n\n  degrees.forEach((degree, index) => {\n    degree -= 180\n    let notchPosition = {\n      x: (radius + notch_offset) * Math.cos(toRadians(degree)) + radius - 3,\n      y: (radius + notch_offset) * Math.sin(toRadians(degree)) + radius - 0\n    }\n    const notchElem = document.createElement('div')\n    notchElem.classList.add('notchElem')\n    applyStyles(notchElem, {\n      ...notchStyles,\n      left: `${notchPosition.x}px`,\n      top: `${notchPosition.y}px`,\n      transform: `rotate(${degree}deg) scale(0)`\n    })\n    spinner.appendChild(notchElem)\n    setTimeout(() => {\n      applyStyles(notchElem, {\n        transform: `rotate(${degree}deg) scale(1)`\n      })\n    }, index * 50)\n  })\n}\n\nfunction roundTo(num, to) {\n  return Math.round(num / to) * to\n}\n\nfunction degreeToValue(deg, DEGREES_DEAD_AREA, min, max) {\n  // calc offset\n  const offset = DEGREES_DEAD_AREA / 2\n  let newDeg = 360 - deg\n  if (newDeg < 90) newDeg += 360\n  newDeg = newDeg - 90 - offset\n  newDeg = newDeg / (360 - DEGREES_DEAD_AREA)\n  newDeg = min + (newDeg * (max - min))\n  return newDeg\n}\n\nfunction valueToDegree(val, DEGREES_DEAD_AREA, min, max) {\n  // calc offset\n  const offset = DEGREES_DEAD_AREA / 2\n  \n  // get degrees out of 360 (minus offset)\n  let deg = (val - min) / (max - min) * (360 - DEGREES_DEAD_AREA)\n  \n  // flip directions (and orientation)\n  deg = 270 - deg \n\n  // account for dead-area offset\n  deg -= offset\n\n  return deg\n}\n\nfunction Knob({ selector: elem, notches: notchesCount, min = 0, max = 100, deadArea: DEGREES_DEAD_AREA = 90 }) {\n  \n  let spinner = elem\n  let inner = elem.firstChild\n  let _onChange = () => {}\n\n  // if there is a dead zone, add 1 to notchescount to spread evenly. otherwise it will overlap at the 360 mark\n  const degreeInterval =\n    (360 - DEGREES_DEAD_AREA) /\n      (DEGREES_DEAD_AREA ? notchesCount - 1 : notchesCount) || 1\n\n  // create degrees to map to, and notches\n  const degreesSet = []\n  const degreesStart = 270 - DEGREES_DEAD_AREA / 2 // assume 360 degrees, and 0 is at 3:00 position (CCW), then move it to this new starting point\n  \n  for (let notch = 0; notch < notchesCount; notch++) {\n    let val = degreesStart - notch * degreeInterval\n    val = (val + 360) % 360\n    degreesSet.push(val)\n  }\n\n  // reverse the degree set so animation works\n  createNotches(spinner, degreesSet.reverse())\n\n  // sort the degree set so we can properly get the closest match algorithmically\n  degreesSet.sort((a, b) => a - b)\n\n  let lastDeg = 0,\n    active = false\n\n  function onRelease(e) {\n    if (active) {\n      spinner.classList.remove('is-active')\n      document.body.classList.remove('is-grabbing')\n      active = false\n    }\n  }\n\n  function rotate(deg) {\n    lastDeg = deg\n    // change degree to match CSS's interpretation of geometry\n    // and because the notch is vertical upon start\n    inner.style.transform = `rotate(${90 - deg}deg)`\n  }\n\n  function onMove(e) {\n    e.preventDefault()\n    if (active) {\n      const {x, y} = getClientCoords(e)\n      const center = {\n        x: spinner.offsetLeft + spinner.offsetWidth / 2,\n        y: spinner.offsetTop + spinner.offsetHeight / 2\n      }\n      let diffX = x - center.x\n      let diffY = center.y - y // because Y is upside down from regular math\n      let arctan = Math.atan2(diffY, diffX)\n      let deg = (toDegrees(arctan) + 360) % 360\n      let roundDeg = nearestFromSet(deg, degreesSet)\n      if (Math.abs(roundDeg) === Math.abs(lastDeg)) return\n      else {\n        rotate(roundDeg)\n        _onChange(degreeToValue(roundDeg, DEGREES_DEAD_AREA, min, max))\n      }\n    }\n  }\n\n  function onGrab(e) {\n    if (!active) {\n      active = true\n      spinner.classList.add('is-active')\n      document.body.classList.add('is-grabbing')\n      onMove(e)\n    }\n  }\n\n  spinner.addEventListener('mousedown', onGrab, {\n    passive: false,\n    bubbles: false\n  })\n  spinner.addEventListener('mousedown', onGrab, {\n    passive: false,\n    bubbles: false\n  })\n  spinner.addEventListener('touchstart', onGrab, {\n    passive: false,\n    bubbles: false\n  })\n  window.addEventListener('mouseup', onRelease, {\n    passive: false,\n    bubbles: false\n  })\n  window.addEventListener('touchend', onRelease, {\n    passive: false,\n    bubbles: false\n  })\n  window.addEventListener('mousemove', onMove, {\n    passive: false,\n    bubbles: false\n  })\n  window.addEventListener('touchmove', onMove, {\n    passive: false,\n    bubbles: false\n  })\n\n  return {\n    setValue(val) {\n      rotate(valueToDegree(val, DEGREES_DEAD_AREA, min, max))\n      return this\n    },\n    onChange(func) {\n      _onChange = func\n      return this\n    }\n  }\n}\n\nexport default Knob","import { getClientCoords } from \"./Knob\"\n\nexport class DrawForceController {\n  constructor(canvasContext){\n    this.canvasContext = canvasContext\n    this.canvasContext.canvas.addEventListener('mousedown', this.onMouseDown)\n    this.canvasContext.canvas.addEventListener('mouseup', this.onMouseUp)\n    this.canvasContext.canvas.addEventListener('mousemove', this.onMouseMove)\n    this.canvasContext.canvas.addEventListener('touchstart', this.onMouseDown)\n    this.canvasContext.canvas.addEventListener('touchend', this.onMouseUp)\n    this.canvasContext.canvas.addEventListener('touchmove', this.onMouseMove)\n\n    this.state = {\n      down: false\n    }\n\n    this._onChange = () => {}\n  }\n\n  onChange = (func) => {\n    this._onChange = func\n  }\n\n  onMouseDown = (e) => {\n    e.preventDefault();\n    const { x, y } = this.getCanvasCoords(e)\n    this.startPoint = {x, y}\n    this.endPoint = {x, y}\n    this.state.down = true\n  }\n  \n  onMouseUp = (e) => {\n    e.preventDefault();\n    if (!this.state.down) return\n    this.state.down = false\n\n    this._onChange(\n      this.endPoint.x - this.startPoint.x,\n      this.endPoint.y - this.startPoint.y,\n    )\n  }\n\n  onMouseMove = (e) => {\n    e.preventDefault();\n    const { x, y } = this.getCanvasCoords(e)\n    if (this.state.down) {\n      this.endPoint = {x, y}\n    }\n  }\n\n  getCanvasCoords = (e) => {\n    const {x: canvasX, y: canvasY} = getClientCoords(e);\n    const x = canvasX - e.target.offsetLeft\n    const y = canvasY - e.target.offsetTop\n    return {x, y}\n  }\n\n  update() {\n    if (this.state.down) {\n      this.canvasContext.strokeStyle = 'red'\n      this.canvasContext.beginPath()\n      this.canvasContext.moveTo(this.startPoint.x, this.startPoint.y)\n      this.canvasContext.lineTo(this.endPoint.x, this.endPoint.y)\n      this.canvasContext.stroke();\n    }\n  }\n}","export class Particle {\n  constructor({\n    startPosition\n  }){\n    this.position = { ...startPosition}\n    this.force = {\n      x: 0,\n      y: 0,\n    }\n    this.acceleration = {\n      x: 0,\n      y: 0,\n    }\n    this.velocity = {\n      x: 0,\n      y: 0,\n    }\n\n    this.mass = 0.1\n\n    this.seeds = [ Math.random(), Math.random(), Math.random(), Math.random(), Math.random() ]\n\n    this.config = {\n      lifespan: 500,\n      autonomy: 1,\n      size: 5,\n    }\n\n\n    this.life = 0\n\n    this._onDelete = () => {}\n  }\n\n  setContext(context){\n    this.context = context\n  }\n\n  setGravity(gravity){\n    this.force.y = gravity\n  }\n\n  setWind(wind){\n    this.force.x = wind\n  }\n\n  setConfig(config){\n    this.config = config\n  }\n\n  getWobble(seed = 0){\n    // wobbles\n    const radian = Math.PI / 180\n    const lifeRadians = (this.life) * radian * this.seeds[seed] // add random so it appears at a random place in the sine curve\n    const horizontalMult = 0.5 * this.seeds[seed]\n    const sinMult = 10 * this.seeds[seed]\n    return (horizontalMult * Math.sin(lifeRadians * sinMult))\n  }\n\n  onDelete = (func) => {\n    this._onDelete = func\n  }\n\n  destroy(){\n    this._onDelete(this)\n    delete this\n  }\n\n  update(timestamp){\n    this.life += 1\n    this.lastTime = timestamp\n    \n    // todo: only update this if changed from last tick\n    this.acceleration = {\n      x: this.force.x * this.mass,\n      y: this.force.y * this.mass,\n    }\n\n    for (let i  = 0; i < this.config.autonomy; i++) {\n      let dimension = i % 2 === 0 ? 'x' : 'y'\n      this.position[dimension] += (this.getWobble(i) * (this.config.autonomy + 1))\n    }\n    // this.acceleration.x += this.getWob\n    // gravity-based\n    \n    this.velocity = {\n      x: this.life * this.acceleration.x,\n      y: this.life * this.acceleration.y\n    }\n    \n\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n\n\n    // draw\n    // this.context.fillStyle = 'black'\n    if (this.config.lifespan < Infinity) {\n      const opacity = Math.max((this.config.lifespan - this.life) / this.config.lifespan, 0)\n      this.context.fillStyle = `rgba(0, 0, 0, ${opacity})`\n    }\n    else {\n      this.context.fillStyle = `rgba(0, 0, 0, 1)`\n    }\n    const width = this.config.size * this.seeds[0]\n\n    this.context.beginPath();\n    this.context.arc(this.position.x, -this.position.y, width, 0, 2 * Math.PI, false);\n    this.context.fill();\n    const canvas = this.context.canvas\n    \n    // reset when OOB\n    if (this.life >= this.config.lifespan) {\n      this.destroy()\n    }\n    if (this.force.y < 0) {\n      if (this.position.y <= -canvas.height) {\n        this.destroy()\n      }\n    }\n    else if (this.force.y > 0) {\n      if (this.position.y >= 0) {\n        this.destroy()\n      }\n    }\n    if (this.force.x >= 0) {\n      if (this.position.x >= canvas.width) {\n        this.position.x = 0\n      }\n    }\n    if (this.force.x < 0) {\n      if (this.position.x <= 0) {\n        this.position.x = canvas.width\n      }\n    }\n  }\n}","import Knob from \"./Knob\"\n\nexport const INITIAL_VALUES = {\n  lifespan: 1620,\n  autonomy: 1,\n  size: 3,\n  intensity: 100,\n  gravity: 0.1,\n  wind: 0.1,\n}\n\nexport const init = (fieldInstance) => {\n  const lifespan = new Knob({\n    notches: 16,\n    min: 100,\n    max: 2000,\n    selector: document.getElementById('knob-1')\n  })\n  .setValue(INITIAL_VALUES.lifespan)\n  .onChange(val => {\n    let _val = Math.round(val)\n    fieldInstance.setConfig({\n      lifespan: _val === 2000 ? Infinity : _val\n    })\n  })\n  const autonomy = new Knob({\n    notches: 6,\n    min: 0,\n    max: 5,\n    selector: document.getElementById('knob-2')\n  })\n  .setValue(INITIAL_VALUES.autonomy)\n  .onChange(val => {\n    fieldInstance.setConfig({\n      autonomy: Math.round(val)\n    })\n  })\n  const size = new Knob({\n    notches: 8,\n    min: 2,\n    max: 9,\n    selector: document.getElementById('knob-3')\n  })\n  .setValue(INITIAL_VALUES.size)\n  .onChange(val => {\n    fieldInstance.setConfig({\n      size: Math.round(val)\n    })\n  })\n  const intensity = new Knob({\n    notches: 16,\n    min: 0,\n    max: 100,\n    selector: document.getElementById('knob-4')\n  })\n  .setValue(INITIAL_VALUES.intensity)\n  .onChange(val => {\n    fieldInstance.setConfig({\n      intensity: Math.round(val)\n    })\n  })\n}","import { Particle } from \"./Particle\"\nimport { INITIAL_VALUES } from \"./UI\"\n\nexport class Field {\n  constructor(){\n    this.canvas = document.createElement('canvas')\n    this.canvas.width = window.innerWidth\n    this.canvas.height = window.innerHeight - document.getElementById('hud').getBoundingClientRect().height\n    this.context = this.canvas.getContext('2d')\n    this.particles = new Set()\n    document.body.appendChild(this.canvas)\n\n    this.gravity = INITIAL_VALUES.gravity\n    this.wind = INITIAL_VALUES.wind\n    \n    this.particleConfig = { ...INITIAL_VALUES }\n\n    this.emitting = false\n  }\n\n  update(timestamp){\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)\n    this.particles.forEach(particle => particle.update(timestamp))\n  }\n\n  setConfig = (keyVal) => {\n    this.particleConfig = {\n      ...this.particleConfig,\n      ...keyVal,\n    }\n    this.particles.forEach(particle => particle.setConfig(this.particleConfig))\n  }\n\n  updateForces(x, y){\n    const divisor = 1000\n    this.gravity = -y / divisor\n    this.wind = x / divisor\n    this.particles.forEach(particle => {\n      particle.setGravity(this.gravity)\n      particle.setWind(this.wind)\n    })\n\n    if (this.gravity === 0) {\n      this.stop()\n    } else if (!this.emitting) {\n      this.start()\n    }\n  }\n\n  addParticle(particle) {\n    particle.setContext(this.context)\n    particle.setGravity(this.gravity)\n    particle.setWind(this.wind)\n    particle.setConfig(this.particleConfig)\n    this.particles.add(particle)\n    particle.onDelete(particle => {\n      this.particles.delete(particle)\n    })\n  }\n\n  start(){\n    const startParticles = () => {\n      this.addParticle(new Particle({\n        startPosition: {\n          x: Math.random() * this.canvas.width,\n          y: this.gravity < 0 ? 1 : -(this.canvas.height - this.particleConfig.size)\n        }\n      }))\n      const interval = 100 - this.particleConfig.intensity\n      this.timeout = setTimeout(startParticles, interval)\n    }\n\n    startParticles()\n    this.emitting = true\n  }\n\n  onResize = () => {\n    this.canvas.width = window.innerWidth\n    this.canvas.height = window.innerHeight - document.getElementById('hud').getBoundingClientRect().height\n  }\n\n  stop(){\n    this.emitting = false\n    clearTimeout(this.timeout)\n  }\n}","/*\n  get gravity/wind into one config called forces\n  color?\n  blur?\n  animated favicon?\n  // embed + colors\n*/\n\nimport { DrawForceController } from \"./draw-force\"\nimport { Field } from \"./Field\"\nimport { init } from \"./UI\"\n\n\nconst field = new Field()\nconst drawController = new DrawForceController(field.context)\n\ndrawController.onChange((x, y) => {\n  field.updateForces(x, y)\n})\n\nfield.start()\n\nconst debounce = (func) => {\n  let timer\n  return (...args) => {\n    clearTimeout(timer)\n    timer = setTimeout(() => func(...args), 300)\n  }\n}\n\nwindow.addEventListener('resize', debounce(field.onResize))\n\nconst loop = (timestamp) => {\n  field.update(timestamp)\n  drawController.update()\n  requestAnimationFrame(loop)\n}\n\ninit(field)\n\nloop()\n\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}